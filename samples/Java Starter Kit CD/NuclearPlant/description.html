<HTML>
<HEAD>
<TITLE>Applet Description</TITLE>
</HEAD>
<BODY>


<h1>Nuclear Power Plant Applet Description</h1>
<center>
<b>Henrik Eriksson</b><br>
Dept. of Computer and Information Science<br>
Linköping University<br>
S-581 83 Linköping, Sweden
</center>

<p>

<h3>Power Plant Model</h3>

This applet provides a (very rough) simulation of a nuclear power
plant. This power plant consists of three major components: the
<em>reactor, turbine,</em> and <em>condenser</em>. Furthermore, there
are three <em>pumps,</em> four <em>valves,</em> and one
<em>turbine</em>. The reactor boils the water and the steam generated
drives the turbine. After the turbine, the condenser cools the
steam. In turn, external cooling water cools the condenser. The
cooling pumps transport the water from the condenser tank back to the
reactor tank.

<p>

The simulator calculates values for reactor-tank pressure,
condenser-tank pressure, water levels, and so on, and displays them
graphically. When components fail, the simulator calculates and
displays the consequences for the running power-plant system. For
instance, if a cooling pump fails and the corresponding valve is not
closed, water may flow backwards from the reactor tank to the
condenser tank. This process will then drain the reactor tank and
expose the reactor core.


<h3>User Interaction</h3>

The user can start several simulation sequences where components of
the power plant fail. In Sequence 1, the turbine fails, and the state
of the power plant changes accordingly. In Sequences 2 and 3, cooling
water pump 1 fails, and the external-cooling water pump fails,
respectively. (You may have to resize the browser window to see the
external-cooling water pump, because it is located to the left of the
condenser.) The randomize button invokes a sequence where two random
components fail. For instance, the turbine may fail and then a few
seconds later a cooling pump may fail.

<p>

The simulator allows user interaction with certain components when a
simulation sequence is running. The user can open and close valves by
clicking on them, and can start and stop pumps by clicking on
them. Moreover, the user can change the position of the moderator rods
by dragging them with the mouse. The simulator disables user
interaction with components immediately after a sequence is completed.


<h3>Applet Description</h3>

The applet implementation consists of two major parts: (1) the
<em>graphical user interface</em> and (2) the <em>power-plant
simulator</em>. In the version of the applet you seen on the
demonstration WWW page, the simulator component is implemented in
Java-compatible and run together with the graphical-user interface in
your Java browser (e.g., HotJava and Netscape 2.0). Although this
Java-based simulator is now running locally in you browser, it can be
configured to communicate with a remote <em>simulator server</em> that
receives user input and transmits simulation output data to the
browser client (through a TCP/IP stream).


<h3>Learning Rule-Based Programming in CLIPS</h3>

This applet is designed primarily to teach students expert systems and
rule-based programming by adding safety rules to the power-plant
control system. The expert-system shell we are using to perform this
task is <a
href="http://www.jsc.nasa.gov/~clips/CLIPS.html">CLIPS</a>. Because
simulator servers running remotely can be implemented in other
languages than Java, students can implement (or modify existing)
simulators in <a
href="http://www.jsc.nasa.gov/~clips/CLIPS.html">CLIPS</a>. (In our
approach, we use Java-to-Java communication over the TCP/IP stream and,
we integrate Java and CLIPS through the C-based API on the server side.)
For instance, it is possible to develop a relatively small rule base
that will take appropriate actions automatically when components
fail. This safety knowledge base can then be tested against random
sequences, to ensure that the rules work properly.

<p>

Our goal is to use this applet as a tool in teaching students basic
knowledge-engineering skills, such as rule-based
programming. Currently, we are working on a document that defines the
student assignment, and provides the information required to complete
the exercise. We shall fine-tune the applet and the program skeleton
to work with the documentation during the fall of 1995. The
expert-system course starts in January 1996, and we expect to have the
course material ready by then. The current version of the <a
href="http://www.jsc.nasa.gov/~clips/CLIPS.html">CLIPS</a> program
skeleton is available <a href="classes/ClipsSimulator.clp">here</a>.


<h3>Applet Documentation and Source Code</h3>

Class documentation (generated by <tt>javadoc</tt>) and Java source
code are available.

<ul>       
  <li><a href="classes/doc/">Class documentation</a>
  <li><a href="classes/NuclearPlant.java">Source code</a> - main simulator, contains several class definitions
  <li>Other interesting source code: Remote simulation and CLIPS (not part of this version of the applet)
     <ul>       
       <li><a href="classes/SimulatorServer.java">Simulator server in Java</a>
       <li><a href="classes/ClipsSimulatorServer.java">Simulator server that interfaces with CLIPS</a>
       <li><a href="classes/Clips.java">Java wrapper for CLIPS</a>
     </ul>
</ul>


<h3>Bugs</h3>

The graphics could be cooler. In the 1.0Alpha3 version, the sequence
control buttons are sometimes not redrawn correctly when the user
scrolls the page in HotJava. The applet was developed using the
Solaris version of HotJava. It works with the Windows 95/NT version
(1.0Alpha3 or later), but there are still some rough edges on the
Windows platform, such as font-geometry, color, and crash problems.


<h3>Historical Background and Acknowledgments</h3>

The approach of
 power-plant simulation (in this context) was originally a laboratory
assignment to teach computer-science students at Linköping University
rule-based programming. In 1986,  Anders Nyberg and Mikael Svensson
developed the original version in the expert-system shell Epitool
running on Xerox D-machines. The Epitool code handled the simulation,
and the Interlisp-D code displayed the simulation graphically. A few years
later, the D-machines became obsolete, and where replaced by Medley
running on Sun SPARCstations. Because, Epitool was no longer available for
the Medley platform, the laboratory assignment had to be removed from
the expert-system course.

<p>

For several years, we were frustrated we could not run the power-plant
simulator. In early 1995, it was time to revise the assignments for
the expert-system course. We needed a new and cool assignment to teach
students rule-based programming in <a
href="http://www.jsc.nasa.gov/~clips/CLIPS.html">CLIPS</a>. Since Java
and HotJava was available, we decided to resurrect the power-plant
simulation, and to use Java as the user-interface front end to <a
href="http://www.jsc.nasa.gov/~clips/CLIPS.html">CLIPS</a>. During
summer 1995, Henrik Eriksson implemented a new user interface in Java
and translated the old Epitool simulator code to <a
href="http://www.jsc.nasa.gov/~clips/CLIPS.html">CLIPS</a>. The first
part of this implementation process was to create a stand-alone (i.e.,
complete) simulator in Java to test the Java user interface. Eva
L. Ragnemalm rewrote the assignment documentation for the new
power-plant simulator.



<HR>

Copyright &copy; 1995 <a href="http://www.liu.se">Linköping
University</a>, Linköping, Sweden.

<em>Maintained by Henrik Eriksson <a
href="mailto:her@ida.liu.se">&lt;her@ida.liu.se&gt;</a></em>

</BODY>
</HTML>
